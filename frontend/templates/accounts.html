<!DOCTYPE html>
<!--devices.html-->
<html lang="en" data-theme="light">
<head>
  <link rel="stylesheet" href="{{ url_for('static', path='css/dashboard.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', path='css/accounts/style.css') }}">
</head>
<body>

<!-- Placeholder for Navigation Menu -->
<div id="nav-placeholder"></div>

<!-- Page Content -->
<div id="page-content" style="margin-left:15%;padding:1px 16px;height:1000px;">

  <div id="change-password-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>Change Password</h2>
        <form id="change-password-form">
            <label for="changeOldPassword">Old Password:</label>
            <input class="text-entry" type="password" id="changeOldPassword" name="oldPassword" required>

            <label for="changeNewPassword">New Password:</label>
            <input class="text-entry" type="password" id="changeNewPassword" name="newPassword" required>

            <label for="changeConfirmPassword">Confirm New Password:</label>
            <input class="text-entry" type="password" id="changeConfirmPassword" name="confirmPassword" required>

            <button type="submit">Change Password</button>
            <p id="message"></p>
        </form>
    </div>
</div>

<div id="reset-password-modal" class="modal">
  <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Reset User Password</h2>
      <form id="reset-password-form">
          <h3>Reset Password for <span id="reset-password-username"></span></h3>
          <label for="resetNewPassword">New Password:</label>
          <input class="text-entry" type="password" id="resetNewPassword" name="newPassword" required>

          <label for="resetConfirmPassword">Confirm New Password:</label>
          <input class="text-entry" type="password" id="resetConfirmPassword" name="confirmPassword" required>

          <button type="submit">Reset Password</button>
          <p id="reset-message"></p>
      </form>
  </div>
</div>

<div id="create-account-modal" class="modal">
  <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Create User Account</h2>
      <form id="create-account-form">
          <label for="createAccountUsername">Username: </label>
          <input class="text-entry" type="text" id="createAccountUsername" name="createAccountUsername" required>

          <label for="createAccountPassword">New Password:</label>
          <input class="text-entry" type="password" id="createAccountPassword" name="newPassword" required>

          <label for="createAccountConfirmPassword">Confirm New Password:</label>
          <input class="text-entry" type="password" id="createAccountConfirmPassword" name="confirmPassword" required>

          <label for"roles">Choose user's role: </label>
          <select name="roles" id="roles">
            <option value="admin">admin</option>
            <option value="guest">guest</option>
          </select>

          <button type="submit">Create Account</button>
          <p id="create-message"></p>
      </form>
  </div>
</div>



  <div id= "account-information-container">
  <h2>Account Information</h2>
  <p id="username-indicator">Username:</p>
  <p id="role-indicator">Role:</p>
  </div>
  <div id="account-management-actions">
  <button id="change-password-button">Change Password</button> 
  <button id="delete-account-button">Delete Account</button>
  <button id="create-account-button">Create Account</button>
</div>
<div  class="hidden">
  <table id="user-table">
    <tr>
      <th>Username</th>
      <th>Role</th>
      <th>Actions</th>
    </tr>
  </table>
</div>
</div>

<!-- JavaScript to Load Navigation Menu and Set Active Link -->
<script>
  fetch("/nav")
    .then(response => response.text())
    .then(data => {
      document.getElementById("nav-placeholder").innerHTML = data;

      const navLinks = document.querySelectorAll("#nav-placeholder ul li a");
      navLinks.forEach(link => {
        // Compare only the path portions of the URLs
        if (link.pathname === window.location.pathname) {
          link.classList.add("active");
        }
      });
    })
    .catch(error => console.error("Error loading navigation:", error));
</script>
<script src="{{ url_for('static', path='js/accounts/app.js') }}" defer></script>
<script src="{{ url_for('static', path='js/theme/app.js') }}" defer></script>

</body>
</html>
